{"version":3,"sources":["todolist/constant.js","todolist/home/components/edit.js","todolist/home/components/item.js","todolist/home/components/list.js","todolist/home/index.js","index.js"],"names":["API","Edit","add","submittingItem","useState","note","setNote","date","setDate","time","setTime","className","type","value","onChange","e","target","placeholder","onClick","current","prev","id","v4","Item","deleteData","filter","item","List","listItem","map","setItem","a","fetch","res","json","data","console","log","method","headers","body","JSON","stringify","Home","items","useRef","useEffect","getItem","postItem","then","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4cd00f65.chunk.js","sourcesContent":["export const API = {\nTOKEN : 'http://localhost:3000',\nGET_IETMS : '/items'\n}","import { useState } from \"react\"\nimport { v4 } from 'uuid';\n\nconst Edit = ({ add, submittingItem }) => {\n    function addItem() {\n        submittingItem.current = true;\n        // add 是 setItem\n        add(function (prev) {\n            return [{ note, date, time, id: v4() }, ...prev]\n        })\n        setNote('');\n    }\n    /** 事項 */\n    const [note, setNote] = useState('');\n    function noteChange(e) {\n        setNote(e.target.value);\n    }\n    /** 日期 */\n    const [date, setDate] = useState('2021-05-07');\n    function dateChange(e) {\n        setDate(e.target.value);\n    }\n    /** 時間 */\n    const [time, setTime] = useState('');\n    function timeChange(e) {\n        setTime(e.target.value);\n    }\n\n\n    return <div className=\"edit\">\n        <h1>記事本</h1>\n        <p>事項：</p>\n        <input type=\"text\" value={note} onChange={noteChange} placeholder=\"type something\"></input>\n        <p>日期：</p>\n        <input type=\"date\" value={date} onChange={dateChange}></input>\n        <p>時間：</p>\n        <input type=\"time\" value={time} onChange={timeChange}>\n        </input>\n        <button onClick={addItem} className=\"add\">新增</button>\n    </div>\n}\nexport default Edit","const Item = ({ note, date, time, id, deleteData, submittingItem }) => {\n    function deleteItem() {\n        submittingItem.current = true;\n        deleteData(function (prev) {\n            return prev.filter(item => item.id !== id)\n        })\n    }\n\n    return <div className=\"item\">\n        <div>{note}</div>\n        <div>{`${date} ${time}`}</div>\n        <button onClick={deleteItem} className=\"remove\">刪除</button></div>\n}\n\nexport default Item","import Item from \"./item\"\nimport { v4 } from 'uuid';\n\nconst List = ({ listItem, deleteData,submittingItem }) => {\n\n    return <div>{listItem.map(\n        item => {\n            const { note, date, time, id } = item;\n            return <Item key={id} note={note} date={date} time={time} id={id} deleteData={deleteData} submittingItem={submittingItem}/>\n        })}</div>\n}\n\nexport default List","import { useEffect, useRef, useState } from 'react';\nimport { API } from '../constant';\nimport Edit from './components/edit';\nimport List from './components/list';\nimport './index.css';\n\n\nasync function getItem(setItem) {\n    const res = await fetch(API.TOKEN + API.GET_IETMS);\n    const  {data}  = await res.json();\n    console.log(data);\n    setItem(data);\n    // 資料給items, items就會被list給分下去\n}\n\nasync function postItem(data) {\n    await fetch(API.TOKEN + API.GET_IETMS, {\n        method: 'PUT',\n        headers: {\n            'Content-type': 'application/json'\n        },\n        body: JSON.stringify({data})\n    })\n}\n\nconst Home = () => {\n    const [items, setItem] = useState([]);\n    const submittingItem = useRef(false);\n\n    // 第一次畫面渲染，執行一次\n    useEffect(() => {\n        getItem(setItem)\n        console.log('setitem');\n    },[]);\n\n\n    // 資料改變就post\n    useEffect(() => {\n        console.log(items);\n        if (!submittingItem.current) { return; }\n        postItem(items).then(() => submittingItem.current = false)\n    }, [items])\n\n\n    return <div className=\"home\">\n        <Edit add={setItem} submittingItem={submittingItem} />\n        <List listItem={items} deleteData={setItem} submittingItem={submittingItem} />\n    </div>\n}\n\n\n\nexport default Home","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Home from './todolist/home'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Home />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}